<template>
  <div class="sidebar" aria-label="Navigation sidebar">
    <button 
      :title="backButtonTitle"
      :class="{ 'disabled-button': !isPatientHistory }"
      @click="handleBackButton"
    >
      ‚Ü∂
    </button>
    
    <template v-for="(item, index) in sidebarItems" :key="index">
      <button 
        v-if="item.type === 'button'" 
        :title="item.title"
        @click="handleButtonClick(item.title)"
      >
        {{ item.icon }}
      </button>
      <div v-else-if="item.type === 'divider'" class="divider"></div>
    </template>
  </div>
</template>

<script>
export default {
  name: 'Sidebar',
  data() {
    return {
      sidebarItems: [
        { title: "–î–æ–±–∞–≤–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –ø–∞—Ü–∏–µ–Ω—Ç–∞ –∏–ª–∏ –õ–ü–£", icon: "üë•", type: "button" },
        { title: "–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–∞—Ü–∏–µ–Ω—Ç—É", icon: "üìã", type: "button" },
        { title: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–∞—Ü–∏–µ–Ω—Ç—É –∏–ª–∏ –≥—Ä—É–ø–ø–µ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤", icon: "‚úâÔ∏è", type: "button" },
        { title: "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –õ–ü–£ –∏–ª–∏ –ø–∞—Ü–∏–µ–Ω—Ç–∞", icon: "‚úèÔ∏è", type: "button" },
        
        { type: "divider" },
        
        { title: "–ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤", icon: "üìÖ", type: "button" },
        { title: "–ü–æ–º–æ—â—å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞", icon: "ü§ñ", type: "button" },
        { title: "–°—Ç–∞—Ç–∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö", icon: "üìä", type: "button" },
        
        { type: "divider" },
        
        { title: "–°–ø–∏—Å–æ–∫ –º–∞–ª–æ–º–æ–±–∏–ª—å–Ω—ã—Ö –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤", icon: "‚ôø", type: "button" },
        { title: "–í—Ö–æ–¥ –≤ —á–∞—Ç –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤", icon: "üí¨", type: "button" },
        { title: "–ü–µ—á–∞—Ç—å –∏–∑ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –æ–∫–Ω–∞", icon: "üñ®Ô∏è", type: "button" },
        { title: "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö", icon: "üíæ", type: "button" }
      ]
    }
  },
  computed: {
    isPatientHistory() {
      return this.$route && this.$route.path.startsWith('/patient/')
    },
    backButtonTitle() {
      return this.isPatientHistory 
        ? '–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤' 
        : '–û—Ç–º–µ–Ω–∞ –¥–µ–π—Å—Ç–≤–∏—è, –≤–æ–∑–≤—Ä–∞—Ç'
    }
  },
  methods: {
    handleBackButton() {
      if (this.isPatientHistory && this.$router) {
        this.$router.push('/')
      }
    }
  }
}
</script>